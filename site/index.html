import sys
from PyQt5.QtWidgets import (
    QApplication, QMainWindow, QWidget, QVBoxLayout, QHBoxLayout,
    QLabel, QLineEdit, QPushButton, QMessageBox
)

class BankingApp(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setWindowTitle("Mini Banking App ðŸ’³")
        self.setGeometry(200, 200, 400, 300)

        # Example account (PIN + balance)
        self.correct_pin = "1234"
        self.balance = 1000

        # Container
        self.container = QWidget()
        self.layout = QVBoxLayout(self.container)

        # Welcome label
        self.label = QLabel("Enter your PIN:")
        self.layout.addWidget(self.label)

        # PIN input
        self.pin_input = QLineEdit()
        self.pin_input.setEchoMode(QLineEdit.Password)  # hide PIN
        self.layout.addWidget(self.pin_input)

        # Login button
        self.login_btn = QPushButton("Login")
        self.login_btn.clicked.connect(self.login)
        self.layout.addWidget(self.login_btn)

        self.setCentralWidget(self.container)

    def login(self):
        if self.pin_input.text() == self.correct_pin:
            self.show_dashboard()
        else:
            QMessageBox.warning(self, "Error", "Incorrect PIN!")

    def show_dashboard(self):
        # Clear layout
        for i in reversed(range(self.layout.count())):
            widget = self.layout.itemAt(i).widget()
            if widget:
                widget.deleteLater()

        # Welcome
        self.label = QLabel(f"Welcome! Balance: ${self.balance}")
        self.layout.addWidget(self.label)

        # Deposit button
        deposit_btn = QPushButton("Deposit $100")
        deposit_btn.clicked.connect(self.deposit)
        self.layout.addWidget(deposit_btn)

        # Withdraw button
        withdraw_btn = QPushButton("Withdraw $100")
        withdraw_btn.clicked.connect(self.withdraw)
        self.layout.addWidget(withdraw_btn)

        # Check balance button
        balance_btn = QPushButton("Check Balance")
        balance_btn.clicked.connect(self.check_balance)
        self.layout.addWidget(balance_btn)

        # Logout
        logout_btn = QPushButton("Logout")
        logout_btn.clicked.connect(self.logout)
        self.layout.addWidget(logout_btn)

    def deposit(self):
        self.balance += 100
        QMessageBox.information(self, "Deposit", "Deposited $100 successfully!")

    def withdraw(self):
        if self.balance >= 100:
            self.balance -= 100
            QMessageBox.information(self, "Withdraw", "Withdrew $100 successfully!")
        else:
            QMessageBox.warning(self, "Error", "Insufficient balance!")

    def check_balance(self):
        QMessageBox.information(self, "Balance", f"Your balance is: ${self.balance}")

    def logout(self):
        self.__init__()  # reset back to login screen
        self.setCentralWidget(self.container)

if __name__ == "__main__":
    app = QApplication(sys.argv)
    window = BankingApp()
    window.show()
    sys.exit(app.exec_())